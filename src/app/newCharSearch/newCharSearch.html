<input type="text" placeholder="{{'CharNamePlaceHolder'| language}}" [(ngModel)]="charToSearch" (ngModelChange)="searchCharaktere()">

<div *ngIf="charaktere">
  <fieldset *ngFor="let char of charaktere;let i = index" class="maincharFieldset">
    <legend>{{char.besitzer}}</legend>
    <div>
      <div style="height:60px;width:70px;display:inline-block">
        <img *ngIf="char.charakter.rarity>0" src="/assets/picture/star.png" class="sterne stern1">
        <img *ngIf="char.charakter.rarity<1" src="/assets/picture/nostar.png" class="sterne stern1">
        <img *ngIf="char.charakter.rarity>1" src="/assets/picture/star.png" class="sterne stern2">
        <img *ngIf="char.charakter.rarity<2" src="/assets/picture/nostar.png" class="sterne stern2">
        <img *ngIf="char.charakter.rarity>2" src="/assets/picture/star.png" class="sterne stern3">
        <img *ngIf="char.charakter.rarity<3" src="/assets/picture/nostar.png" class="sterne stern3">
        <img *ngIf="char.charakter.rarity>3" src="/assets/picture/star.png" class="sterne stern4">
        <img *ngIf="char.charakter.rarity<4" src="/assets/picture/nostar.png" class="sterne stern4">
        <img *ngIf="char.charakter.rarity>4" src="/assets/picture/star.png" class="sterne stern5">
        <img *ngIf="char.charakter.rarity<5" src="/assets/picture/nostar.png" class="sterne stern5">
        <img *ngIf="char.charakter.rarity>5" src="/assets/picture/star.png" class="sterne stern6">
        <img *ngIf="char.charakter.rarity<6" src="/assets/picture/nostar.png" class="sterne stern6">
        <img *ngIf="char.charakter.rarity>6" src="/assets/picture/star.png" class="sterne stern7">
        <img *ngIf="char.charakter.rarity<7" src="/assets/picture/nostar.png" class="sterne stern7">

        <img class="charImage" [src]="char.charakter | charimagelink" [alt]="char.nameKey">
        <img class="gearImage" [src]="char.charakter | gearlink" [alt]="char.nameKey">
        <span class="char-level">{{char.charakter.level}}</span>
        <span class="char-gear-level">{{char.charakter | chargear}}</span>
      </div>

      <div style="display:inline-block">
        <div *ngFor="let skill of char.charakter.skills">
          <span *ngIf="skill.isZeta == true && skill.tier == 8">Zeta: {{skill.nameKey}}</span>
        </div>
      </div>
    </div>

    <div>{{'Charpower' | language}}: {{char.charakter.gp}}</div>

    <button (click)="showMods[i] = !showMods[i]">{{'Show/Hide'| language}}</button>

    <div *ngIf="showMods[i]">
      <fieldset *ngFor="let mod of char.charakter.mods" style="position:relative; float:left;">
        <legend>{{(mod.set | modsetname) | language}}-{{(mod.slot | modslotname) | language}} L:{{mod.level}} S:{{mod.pips}}</legend>
        <div style="color:blue">{{(mod.primaryStat.unitStat | modstatname) | language}}: {{mod.primaryStat.value | modstatvalue : (mod.primaryStat.unitStat | modstatname)}}</div>
        <div *ngFor="let stat of mod.secondaryStat">{{(stat.unitStat | modstatname) | language}}: {{stat.value | modstatvalue : (stat.unitStat | modstatname)}}</div>
      </fieldset>
    </div>
  </fieldset>
</div>
